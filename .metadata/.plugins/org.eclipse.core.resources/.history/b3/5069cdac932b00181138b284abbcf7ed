package actions.login_Page_Action;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.PageFactory;
import org.testng.Assert;

import commonMethods.WebTextBox;
import componentFunctions.GetPropertyValue;
import locators.login_Page_Locator.Login_Page_Locator;

public class Login_Page_Action {
	
	public WebDriver driver = null;
	String fileName = "config.properties";
	WebElement ele = null;
	GetPropertyValue getPropValue = new GetPropertyValue();
	Login_Page_Locator loginPL = null;
	
	public Login_Page_Action(WebDriver driver){
		this.driver = driver;
	}
	
	public void verifyLoginPageTitle(){
		Assert.assertEquals(driver.getTitle(), getPropValue.getPropertyValues(fileName, "loginPageTitle"));
		System.out.println("Login page verified");
	}
	
	public void verifyUserNameIsNull(){
		loginPL = PageFactory.initElements(driver, Login_Page_Locator.class);
		ele = loginPL.getUserName();
		
		Assert.assertEquals(ele.getText(), "");
	}
	
	public void enterUserName(){
		loginPL = PageFactory.initElements(driver, Login_Page_Locator.class);
		ele = loginPL.getUserName();
		
		if(ele != null){
			if(WebTextBox.enterKeys(ele, getPropValue.getPropertyValues(fileName, "userName")))
				System.out.println("Username enterd successfully");
		}
	}
	
	public void verifyUserName(){
		loginPL = PageFactory.initElements(driver, Login_Page_Locator.class);
		ele = loginPL.getUserName();
		
		if(ele != null){
			Assert.assertEquals(ele.getAttribute("value"),getPropValue.getPropertyValues(fileName, "userName"));
		}
	}
	
	public void verifyPasswordIsNull(){
		loginPL = PageFactory.initElements(driver,Login_Page_Locator.class);
		ele = loginPL.getPassword();
		
		Assert.assertEquals(ele.getText(), "");
	}
	
	public void enterPassword(){
		loginPL = PageFactory.initElements(driver, Login_Page_Locator.class);
		ele = loginPL.getPassword();
	}
}
